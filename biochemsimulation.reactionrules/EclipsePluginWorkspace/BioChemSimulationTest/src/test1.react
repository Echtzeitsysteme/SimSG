/* Agents & Sites & Site Modifications */
Agent A(x, c)
Agent B(x)
Agent C(x1{u, p}, x2{u, p})
/* Variables */
Variable on_rate = 0.0001
Variable off_rate = 0.1
Variable mod_rate = 1.0
Observation AB A(x[x.B])
/* Observations */
Observation Cuu C(x1{u}, x2{u})
Observation Cpu C(x1{p}, x2{u})
Observation Cpp C(x1{p}, x2{p})
/* Initial conditions */
Initial init1 1000 A(),B()
Initial init1 10000 C(x1{u}, x2{u})
/* Rules */
Rule AtoB A(x[Free]), B(x[Free]) bi A(x[1]), B(x[1]) at on_rate, off_rate
			
Rule ABtoC A(x[Semi-Link], c[Free]), C(x1{u}[Free]) uni 
			A(x[Semi-Link], c[2]), C(x1{u}[2]) at on_rate
			
Rule modX1 C(x1{u}[1]), A(c[1]) uni C(x1{p}[Free]), A(c[Free]) at mod_rate

Rule AtoC A(x[Free],c[Free]), C(x1{p}[Free], x2{u}[Free]) uni 
			A(x[Free],c[1]), C(x1{p}[Free], x2{u}[1]) at on_rate
			
Rule modX2 A(x[Free], c[1]), C(x1{p}[Free], x2{u}[1]) uni 
         A(x[Free], c[Free]), C(x1{p}[Free], x2{p}[Free]) at mod_rate