<?xml version="1.0" encoding="UTF-8"?>
<simSGL:SimSGLModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:simSGL="http://www.simsg.org/simsgl/SimSGL" xsi:schemaLocation="http://www.simsg.org/simsgl/SimSGL java://org.simsg.simsgl.simSGL.SimSGLPackage">
  <model xmi:type="simSGL:Model" name="test2"/>
  <properties xmi:type="simSGL:Agent" name="a">
    <sites xmi:type="simSGL:Sites">
      <sites xmi:type="simSGL:SingleSite" name="x">
        <states xmi:type="simSGL:States"/>
      </sites>
    </sites>
    <states xmi:type="simSGL:States">
      <state xmi:type="simSGL:State" name="s"/>
      <state xmi:type="simSGL:State" name="l"/>
    </states>
    <attributes xmi:type="simSGL:Attributes">
      <attributes xmi:type="simSGL:Attribute" name="f">
        <type xmi:type="simSGL:FloatAttribute"/>
      </attributes>
    </attributes>
  </properties>
  <properties xmi:type="simSGL:Agent" name="b">
    <sites xmi:type="simSGL:Sites">
      <sites xmi:type="simSGL:SingleSite" name="y">
        <states xmi:type="simSGL:States"/>
      </sites>
    </sites>
    <states xmi:type="simSGL:States">
      <state xmi:type="simSGL:State" name="q"/>
      <state xmi:type="simSGL:State" name="r"/>
    </states>
    <attributes xmi:type="simSGL:Attributes">
      <attributes xmi:type="simSGL:Attribute" name="t">
        <type xmi:type="simSGL:FloatAttribute"/>
      </attributes>
    </attributes>
  </properties>
  <properties xmi:type="simSGL:Agent" name="v">
    <sites xmi:type="simSGL:Sites">
      <sites xmi:type="simSGL:MultiSite" name="links">
        <states xmi:type="simSGL:States"/>
      </sites>
    </sites>
    <states xmi:type="simSGL:States">
      <state xmi:type="simSGL:State" name="off"/>
      <state xmi:type="simSGL:State" name="on"/>
    </states>
    <attributes xmi:type="simSGL:Attributes">
      <attributes xmi:type="simSGL:Attribute" name="x">
        <type xmi:type="simSGL:FloatAttribute"/>
      </attributes>
      <attributes xmi:type="simSGL:Attribute" name="y">
        <type xmi:type="simSGL:FloatAttribute"/>
      </attributes>
      <attributes xmi:type="simSGL:Attribute" name="z">
        <type xmi:type="simSGL:FloatAttribute"/>
      </attributes>
    </attributes>
  </properties>
  <properties xmi:type="simSGL:Initial" name="i">
    <count xmi:type="simSGL:NumericFromLiteral">
      <value xmi:type="simSGL:ArithmeticValue" value="5"/>
    </count>
    <initialPattern xmi:type="simSGL:AssignFromPattern">
      <pattern xmi:type="simSGL:Pattern">
        <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.0">
          <variable xmi:type="simSGL:AgentPatternName" name="A"/>
          <sitePatterns xmi:type="simSGL:SitePatterns">
            <sitePatterns xmi:type="simSGL:SingleSitePattern" site="//@properties.0/@sites/@sites.0">
              <linkState xmi:type="simSGL:LinkState">
                <linkState xmi:type="simSGL:BoundLink" state="1"/>
              </linkState>
            </sitePatterns>
          </sitePatterns>
        </agentPatterns>
        <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.1">
          <variable xmi:type="simSGL:AgentPatternName" name="B"/>
          <sitePatterns xmi:type="simSGL:SitePatterns">
            <sitePatterns xmi:type="simSGL:SingleSitePattern" site="//@properties.1/@sites/@sites.0">
              <linkState xmi:type="simSGL:LinkState">
                <linkState xmi:type="simSGL:BoundLink" state="1"/>
              </linkState>
            </sitePatterns>
          </sitePatterns>
        </agentPatterns>
        <constraints xmi:type="simSGL:Constraint">
          <operandL xmi:type="simSGL:OperationLeft">
            <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.3/@initialPattern/@pattern/@agentPatterns.0/@variable" attribute="//@properties.0/@attributes/@attributes.0"/>
          </operandL>
          <comparator xmi:type="simSGL:EqualComparator"/>
          <operandR xmi:type="simSGL:OperationLeft">
            <left xmi:type="simSGL:NumericFromLiteral">
              <value xmi:type="simSGL:ArithmeticValue" value="5"/>
            </left>
          </operandR>
        </constraints>
      </pattern>
    </initialPattern>
  </properties>
  <properties xmi:type="simSGL:Initial" name="i2">
    <count xmi:type="simSGL:NumericFromLiteral">
      <value xmi:type="simSGL:ArithmeticValue" value="6"/>
    </count>
    <initialPattern xmi:type="simSGL:AssignFromPattern">
      <pattern xmi:type="simSGL:Pattern">
        <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.0">
          <variable xmi:type="simSGL:AgentPatternName" name="A"/>
          <sitePatterns xmi:type="simSGL:SitePatterns"/>
        </agentPatterns>
        <constraints xmi:type="simSGL:Constraint">
          <operandL xmi:type="simSGL:OperationLeft">
            <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.4/@initialPattern/@pattern/@agentPatterns.0/@variable" attribute="//@properties.0/@attributes/@attributes.0"/>
          </operandL>
          <comparator xmi:type="simSGL:EqualComparator"/>
          <operandR xmi:type="simSGL:OperationLeft">
            <left xmi:type="simSGL:NumericFromLiteral">
              <value xmi:type="simSGL:ArithmeticValue" value="4"/>
            </left>
          </operandR>
        </constraints>
      </pattern>
    </initialPattern>
  </properties>
  <properties xmi:type="simSGL:Rule" name="r1">
    <rule xmi:type="simSGL:RuleBody" operator="->">
      <lhs xmi:type="simSGL:AssignFromPattern">
        <pattern xmi:type="simSGL:Pattern">
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.0">
            <variable xmi:type="simSGL:AgentPatternName" name="A"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:SingleSitePattern" site="//@properties.0/@sites/@sites.0">
                <linkState xmi:type="simSGL:LinkState">
                  <linkState xmi:type="simSGL:BoundLink" state="1"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
            <state xmi:type="simSGL:AgentState" state="//@properties.0/@states/@state.1"/>
          </agentPatterns>
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.1">
            <variable xmi:type="simSGL:AgentPatternName" name="B"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:SingleSitePattern" site="//@properties.1/@sites/@sites.0">
                <linkState xmi:type="simSGL:LinkState">
                  <linkState xmi:type="simSGL:BoundLink" state="1"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
            <state xmi:type="simSGL:AgentState" state="//@properties.1/@states/@state.1"/>
          </agentPatterns>
        </pattern>
      </lhs>
      <rhs xmi:type="simSGL:AssignFromPattern">
        <pattern xmi:type="simSGL:Pattern">
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.0">
            <variable xmi:type="simSGL:AgentPatternName" name="A"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:SingleSitePattern" site="//@properties.0/@sites/@sites.0">
                <linkState xmi:type="simSGL:LinkState">
                  <linkState xmi:type="simSGL:BoundLink" state="1"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
            <state xmi:type="simSGL:AgentState" state="//@properties.0/@states/@state.0"/>
          </agentPatterns>
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.1">
            <variable xmi:type="simSGL:AgentPatternName" name="B"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:SingleSitePattern" site="//@properties.1/@sites/@sites.0">
                <linkState xmi:type="simSGL:LinkState">
                  <linkState xmi:type="simSGL:BoundLink" state="1"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
            <state xmi:type="simSGL:AgentState" state="//@properties.1/@states/@state.0"/>
          </agentPatterns>
        </pattern>
      </rhs>
      <variables xmi:type="simSGL:RuleVariables">
        <variables xmi:type="simSGL:NumericFromLiteral">
          <value xmi:type="simSGL:ArithmeticValue" value="1"/>
        </variables>
      </variables>
    </rule>
  </properties>
  <properties xmi:type="simSGL:Rule" name="r2">
    <rule xmi:type="simSGL:RuleBody" operator="->">
      <lhs xmi:type="simSGL:AssignFromPattern">
        <pattern xmi:type="simSGL:Pattern">
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.0">
            <variable xmi:type="simSGL:AgentPatternName" name="A"/>
            <sitePatterns xmi:type="simSGL:SitePatterns"/>
          </agentPatterns>
        </pattern>
      </lhs>
      <rhs xmi:type="simSGL:AssignFromPattern">
        <pattern xmi:type="simSGL:Pattern">
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.0">
            <variable xmi:type="simSGL:AgentPatternName" name="A"/>
            <sitePatterns xmi:type="simSGL:SitePatterns"/>
          </agentPatterns>
          <constraints xmi:type="simSGL:Constraint">
            <operandL xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.6/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.0/@attributes/@attributes.0"/>
            </operandL>
            <comparator xmi:type="simSGL:EqualComparator"/>
            <operandR xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.6/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.0/@attributes/@attributes.0"/>
              <right xmi:type="simSGL:OperationRight">
                <operator xmi:type="simSGL:PlusOperator"/>
                <right xmi:type="simSGL:OperationLeft">
                  <left xmi:type="simSGL:NumericFromLiteral">
                    <value xmi:type="simSGL:ArithmeticValue" value="1"/>
                  </left>
                </right>
              </right>
            </operandR>
          </constraints>
        </pattern>
      </rhs>
      <variables xmi:type="simSGL:RuleVariables">
        <variables xmi:type="simSGL:NumericFromLiteral">
          <value xmi:type="simSGL:ArithmeticValue" value="1"/>
        </variables>
      </variables>
    </rule>
  </properties>
  <properties xmi:type="simSGL:Rule" name="r3">
    <rule xmi:type="simSGL:RuleBody" operator="->">
      <lhs xmi:type="simSGL:AssignFromPattern">
        <pattern xmi:type="simSGL:Pattern">
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.2">
            <variable xmi:type="simSGL:AgentPatternName" name="V"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:MultiLinkSitePattern" site="//@properties.2/@sites/@sites.0">
                <linkState xmi:type="simSGL:MultiLinkState">
                  <linkState xmi:type="simSGL:BoundLink" state="1"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
          </agentPatterns>
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.2">
            <variable xmi:type="simSGL:AgentPatternName" name="V1"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:MultiLinkSitePattern" site="//@properties.2/@sites/@sites.0">
                <linkState xmi:type="simSGL:MultiLinkState">
                  <linkState xmi:type="simSGL:BoundLink" state="1"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
          </agentPatterns>
        </pattern>
      </lhs>
      <rhs xmi:type="simSGL:AssignFromPattern">
        <pattern xmi:type="simSGL:Pattern">
          <agentPatterns xmi:type="simSGL:ValidAgentPattern" agent="//@properties.2">
            <variable xmi:type="simSGL:AgentPatternName" name="V"/>
            <sitePatterns xmi:type="simSGL:SitePatterns">
              <sitePatterns xmi:type="simSGL:MultiLinkSitePattern" site="//@properties.2/@sites/@sites.0">
                <linkState xmi:type="simSGL:MultiLinkState">
                  <linkState xmi:type="simSGL:FreeLink" name="free"/>
                </linkState>
              </sitePatterns>
            </sitePatterns>
          </agentPatterns>
          <agentPatterns xmi:type="simSGL:VoidAgentPattern" pattern="void"/>
          <constraints xmi:type="simSGL:Constraint">
            <operandL xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.7/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.2/@attributes/@attributes.0"/>
            </operandL>
            <comparator xmi:type="simSGL:EqualComparator"/>
            <operandR xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.7/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.2/@attributes/@attributes.0"/>
              <right xmi:type="simSGL:OperationRight">
                <operator xmi:type="simSGL:PlusOperator"/>
                <right xmi:type="simSGL:OperationLeft">
                  <left xmi:type="simSGL:NumericFromLiteral">
                    <value xmi:type="simSGL:ArithmeticValue" value="1"/>
                  </left>
                </right>
              </right>
            </operandR>
          </constraints>
          <constraints xmi:type="simSGL:Constraint">
            <operandL xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.7/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.2/@attributes/@attributes.1"/>
            </operandL>
            <comparator xmi:type="simSGL:EqualComparator"/>
            <operandR xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.7/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.2/@attributes/@attributes.1"/>
              <right xmi:type="simSGL:OperationRight">
                <operator xmi:type="simSGL:PlusOperator"/>
                <right xmi:type="simSGL:OperationLeft">
                  <left xmi:type="simSGL:NumericFromLiteral">
                    <value xmi:type="simSGL:ArithmeticValue" value="1"/>
                  </left>
                </right>
              </right>
            </operandR>
          </constraints>
          <constraints xmi:type="simSGL:Constraint">
            <operandL xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.7/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.2/@attributes/@attributes.2"/>
            </operandL>
            <comparator xmi:type="simSGL:EqualComparator"/>
            <operandR xmi:type="simSGL:OperationLeft">
              <left xmi:type="simSGL:AttributeOperandGeneric" agent="//@properties.7/@rule/@lhs/@pattern/@agentPatterns.0/@variable" attribute="//@properties.2/@attributes/@attributes.2"/>
              <right xmi:type="simSGL:OperationRight">
                <operator xmi:type="simSGL:PlusOperator"/>
                <right xmi:type="simSGL:OperationLeft">
                  <left xmi:type="simSGL:NumericFromLiteral">
                    <value xmi:type="simSGL:ArithmeticValue" value="1"/>
                  </left>
                </right>
              </right>
            </operandR>
          </constraints>
        </pattern>
      </rhs>
      <variables xmi:type="simSGL:RuleVariables">
        <variables xmi:type="simSGL:NumericFromLiteral">
          <value xmi:type="simSGL:ArithmeticValue" value="1"/>
        </variables>
      </variables>
    </rule>
  </properties>
</simSGL:SimSGLModel>
